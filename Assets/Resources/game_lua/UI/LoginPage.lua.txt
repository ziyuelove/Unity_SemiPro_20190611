--Author : Administrator
--Date   : 2018/11/20

--声明，这里声明了类名还有属性，并且给出了属性的初始值。
LoginPage = {}

--这句是重定义元表的索引，就是说有了这句，这个才是一个类。
LoginPage.__index = LoginPage
LoginPage.gameobect = nil

--构造体，构造体的名字是随便起的，习惯性改为New()
function LoginPage:New() 
    local self = {};    --初始化self，如果没有这句，那么类所建立的对象改变，其他对象都会改变
    setmetatable(self, LoginPage);  --将self的元表设定为Class
    return self;    --返回自身
end

--开始时调用
function LoginPage:Start(gameobject) 
	self.gameobect = gameobject;
	self.gameobect.transform.localScale = Vector3.New(1,1,1);
	self.gameobect.transform.localPosition = Vector3.New(0,0,0);
	self:Init();
	--print(LoginPage.gameobect.name.." runing");
	local Btn_Enter = self.gameobect.transform:Find("Enter") 
	--print(Btn_Enter.name.." Find");

	EventTriggerListener.Get(Btn_Enter.gameObject).OnClickCall = "LoginPage.OnClick";

	return gameobject;
end

function LoginPage.OnClick(gameobject)
	print("LoginPage.OnClick");
	Game.GetGame():LoadScene("room_1") ;     --进入游戏场景
	return gameobject;
end

function LoginPage:Init()
	--local loginRes = ResourceManager.GetInstance():Load("Prefab/login");
	--loginRes = UnityEngine.GameObject.Instantiate(loginRes);
end

function LoginPage.Update()
end

return LoginPage

--endregion
